<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

<meta property="og:title" content="JQ (Shell)" />
<meta property="og:description" content="jq jq is like sed for JSON data - you can use it to slice and filter and map and transform structured data with the same ease that sed, awk, grep and friends let you play with text.  Installation Follow the instructions available on https://stedolan.github.io/jq/ for installing the latest version for your platform.
Basic Usage jq is used to parse JSON, which helps with programmatic interaction with many APIs." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://somrc.virginia.edu/userinfo/reference/jq/" />

  <meta property="og:image" content="https://somrc.virginia.edu/" />


<meta property="og:updated_time" content="2017-02-08T15:28:51-05:00"/>











<meta itemprop="name" content="JQ (Shell)">
<meta itemprop="description" content="jq jq is like sed for JSON data - you can use it to slice and filter and map and transform structured data with the same ease that sed, awk, grep and friends let you play with text.  Installation Follow the instructions available on https://stedolan.github.io/jq/ for installing the latest version for your platform.
Basic Usage jq is used to parse JSON, which helps with programmatic interaction with many APIs.">


<meta itemprop="dateModified" content="2017-02-08T15:28:51-05:00" />
<meta itemprop="wordCount" content="258">

  <meta itemprop="image" content="https://somrc.virginia.edu/">



<meta itemprop="keywords" content=",about,architecture,big-data,cloud,data,education,employment,events,feature,funding,grants,hipaa,hpc,infrastructure,projects,python,r,reference,resources,security,seminars,services,staff,storage,support,userinfo,workshops,,amazon,anaconda,aws,awscli,azure,bioinformatics,boto3,bowtie,bowtie2,cadre,cli,cloud,collaboration,containers,data,data-analysis,ddl,domino,emr,genomics,google,grants,hadoop,hipaa,hpc,ivy,json,linux,powershell,publications,python,r,rc,rivanna,s3,samtools,security,sequencing,services,shell,som,somrc,staff,storage,support,tag1,tag2,windows,xsede," />




  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:image:src" content="https://somrc.virginia.edu/"/>



<meta name="twitter:title" content="JQ (Shell)"/>
<meta name="twitter:description" content="jq jq is like sed for JSON data - you can use it to slice and filter and map and transform structured data with the same ease that sed, awk, grep and friends let you play with text.  Installation Follow the instructions available on https://stedolan.github.io/jq/ for installing the latest version for your platform.
Basic Usage jq is used to parse JSON, which helps with programmatic interaction with many APIs."/>





<meta name="generator" content="Hugo 0.18.1" />


    <base href="https://somrc.virginia.edu/userinfo/reference/jq/">
    <link rel="canonical" href="https://somrc.virginia.edu/userinfo/reference/jq/">
    <link rel="Shortcut Icon" href="https://somrc.virginia.edu/images/favicon.ico" type="image/x-icon" />
    <meta type="reference" />

    <title>JQ (Shell) | Research Computing</title>

    <!-- combined, minified CSS -->
    <link href="https://somrc.virginia.edu/css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">

    

<link rel="stylesheet" href="https://somrc.virginia.edu/css/bootstrapv4.docs.min.css">
<link rel="stylesheet" href="https://somrc.virginia.edu/font-awesome/css/font-awesome.min.css">
<style>

</style>


    <style>
    pre code {
      background-color:#f6f6f6;
    }
    </style>

  </head>

  <body>

    <nav class="navbar navbar-toggleable-md navbar-light bg-faded" style="background-color:#0f3a72;border-radius: 0 !important;">
<div class="container">
  <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">

  <ul class="navbar-nav mr-auto">
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" style="color:white;">About</a>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="https://somrc.virginia.edu/about/mission/">Mission</a>
      <a class="dropdown-item" href="https://somrc.virginia.edu/about/people/">People</a>
      <a class="dropdown-item" href="https://somrc.virginia.edu/about/employment/">Employment</a>
    </div>
  </li>

  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" style="color:white;">Services</a>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="https://somrc.virginia.edu/service/user-support/">User Support</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" href="https://somrc.virginia.edu/service/bioinformatics/">Bioinformatics &amp; Genomics</a>
      <a class="dropdown-item" href="https://somrc.virginia.edu/service/cloud/">Cloud Solutions</a>
      <a class="dropdown-item" href="https://somrc.virginia.edu/service/data-analysis/">Data Analysis</a>
      <a class="dropdown-item" href="https://somrc.virginia.edu/service/scientific-computing/">Scientific Computing</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" href="https://somrc.virginia.edu/service/grant-support/">Grant Support</a>
      <a class="dropdown-item" href="https://somrc.virginia.edu/service/collaboration/">Collaboration</a>
      <a class="dropdown-item" href="https://somrc.virginia.edu/service/citations/">Citations</a>
    </div>
  </li>

  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" style="color:white;">User Info</a>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="https://somrc.virginia.edu/userinfo/quickstart/">Quick Start</a>
      <a class="dropdown-item disabled" href="#">Usage & Policies</a>
      <a class="dropdown-item" href="https://somrc.virginia.edu/userinfo/user-guide/">User Guides</a>
      <a class="dropdown-item disabled" href="#">FAQ</a>
      <a class="dropdown-item disabled" href="#">Software</a>
      <a class="dropdown-item" href="https://somrc.virginia.edu/userinfo/use-cases/">Use Cases</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" href="https://somrc.virginia.edu/userinfo/reference/">Reference</a>
    </div>
  </li>

  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" style="color:white;">Education</a>
    <div class="dropdown-menu">
      <a class="dropdown-item disabled" href="https://somrc.virginia.edu/events/">Upcoming Events</a>
      <a class="dropdown-item" href="https://somrc.virginia.edu/education/workshops">Workshops & Seminars</a>
      <a class="dropdown-item disabled" href="#">Office Hours</a>
      <a class="dropdown-item disabled" href="#">Training Materials</a>
      <a class="dropdown-item disabled" href="#">White Papers</a>
      <a class="dropdown-item disabled" href="#">Other Resources</a>
    </div>
  </li>

  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" style="color:white;">Projects</a>
    <div class="dropdown-menu">
      <a class ="dropdown-item" href ="https://somrc.virginia.edu/project/cardiovascular-genomics/">Cardiovascular Genomics</a>
      <a class="dropdown-item disabled" href="#">Science DMZ</a>
    </div>
  </li>

  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" style="color:white;">Partnerships</a>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="https://cadre.virginia.edu/" target="_new">CADRE</a>
      <a class="dropdown-item" href="http://accord.cs.virginia.edu/" target="_new">ACCORD</a>
      <a class="dropdown-item" href="https://www.xsede.org/" target="_new">XSEDE</a>
    </div>
  </li>

    </ul>
      <form class="form-inline my-2 my-lg-0" method="get" action="https://somrc.virginia.edu/search/">
      <input class="form-control mr-sm-2 form-control-sm" name="q" id="q" type="text" placeholder="Search">
      <button class="btn btn-sm align-middle btn-outline-secondary" type="submit">Search</button>
    </form>
  </div>
</div>
</nav>


        <header class="blog-header" style="padding-top:20px;">
      <div class="container">
        <img src="https://somrc.virginia.edu/images/uva-som-289x106.jpg" alt="Header" class="img-fluid" style="float:right;max-width:20%;" />
        <h1 class="blog-title"><a href="https://somrc.virginia.edu/" rel="home">Research Computing</a></h1>
        <p class="lead blog-description" style="font-style:italic;">Enabling scientific breakthroughs at scale through advanced computing</p>
      </div>
    </header>


    <div class="container">
      <div class="row">
        <div class="col-sm-8 blog-main">

          


<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="https://somrc.virginia.edu/userinfo/reference/jq/">JQ (Shell)</a></h2>
    <hr size=1 />

  </header>

  <div class="explainer">
    

<div class="bd-callout bd-callout-warning">
<h4>jq</h4>
<code>jq</code> is like <code>sed</code> for JSON data - you can use it to slice and filter and map and transform structured data with 
the same ease that <code>sed</code>, <code>awk</code>, <code>grep</code> and friends let you play with text.
</div>

<h1 id="installation">Installation</h1>

<p>Follow the instructions available on <a href="https://stedolan.github.io/jq/">https://stedolan.github.io/jq/</a> for installing the latest version for your platform.</p>

<hr />

<h1 id="basic-usage">Basic Usage</h1>

<p><code>jq</code> is used to parse JSON, which helps with programmatic interaction with many APIs. For example, you can retrieve data from an open API like GitHub:</p>

<pre><code>curl 'https://api.github.com/repos/stedolan/jq/commits?per_page=5'
</code></pre>

<p>And then pipe that output to <code>jq</code> to begin to parse the results. You can filter down to just the first record <code>[0]</code>:</p>

<pre><code>curl 'https://api.github.com/repos/stedolan/jq/commits?per_page=5' \
    | jq '.[0]'
</code></pre>

<p>And then begin to drill down to specific elements of the response hierarchy, building into a new structure:</p>

<pre><code>curl 'https://api.github.com/repos/stedolan/jq/commits?per_page=5' \
    | jq '.[0] | {message: .commit.message, name: .commit.committer.name}'
</code></pre>

<p>which results in this response:</p>

<pre><code>{
  &quot;message&quot;: &quot;Merge pull request #162 from stedolan. Closes #161&quot;,
  &quot;name&quot;: &quot;Stephen Dolan&quot;
}
</code></pre>

<p><code>jq</code> is extremely useful alongside the <a href="https://somrc.virginia.edu/userinfo/reference/aws-cli/">AWS command-line tools</a>.</p>

<hr />

<p>Or, if you wanted to grab a series of values from all entries you retrieved, you could filter into an array. Here are the sha values for 5 recent commits by the user <code>stedolan</code>:</p>

<pre><code>curl 'https://api.github.com/repos/stedolan/jq/commits?per_page=5' | jq -r .[].sha
</code></pre>

<p>which results in this output:</p>

<pre><code>dc679081fa770c260ca9a569a8a4fdbb10bcdc20
597c1f6667746058e88a9f6fb0415f80fe114b18
125071cf005e687d4beba9d5822b1c6a72d7d14c
2fb099e4cfe5a9fedd55a1ace44ae2c5ee02cb12
6f9646a44ff0046126f5a2c3010e92a974da7c48
</code></pre>

<hr />

<h1 id="real-world-examples">Real-world examples</h1>

<p>Here are some <code>bash</code> snippets for various tasks that combine the AWS CLI with <code>jq</code>:</p>

<script src="//gist.github.com/nmagee/d13a67b82859fcef53acff568ecb114d.js"></script>

<hr />

<h1 id="online-testing">Online Testing</h1>

<p>The authors of <code>jq</code> also provide <a href="https://jqplay.org/">https://jqplay.org/</a> as a space where you can interactively build and test your <code>jq</code> parsing.</p>

  </div>

  <hr size=1 />
  <p style="font-size:95%;" class="blog-post-meta"><time datetime="2017-02-08T15:28:51-05:00">Updated Wed Feb 8, 2017</time> | 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/reference" rel="category tag">reference</a>


<i class="fa fa-tag" aria-hidden="true"></i>&nbsp;<a href="/tags/json" rel="tag">json</a>, <a href="/tags/shell" rel="tag">shell</a>

</p>
</article> 



        </div> <!-- /.blog-main -->

        <aside class="col-sm-4 blog-sidebar">

  <div class="sticky">

    <section class="sidebar-module toc">
    <nav id="TableOfContents">
<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#basic-usage">Basic Usage</a></li>
<li><a href="#real-world-examples">Real-world examples</a></li>
<li><a href="#online-testing">Online Testing</a></li>
</ul>
</nav>
  </section>


  
  <section class="sidebar-module">
    <div class="" style="background-color:#333;border-radius:5px;padding:4px;padding-left:1rem;font-size:1.1em;color:white;">
      <a href="https://stedolan.github.io/jq/" target="_new" style="color:white;text-decoration:none;"><i class="fa fa-code fa-inverse align-middle" aria-hidden="true" style=""></i>
         &nbsp;jq Project</a>
    </div>
  </section>
  

  <section class="sidebar-module">
    <p class=lead>Reference Topics</p>
    <ol class="list-unstyled" style="font-size:90%;">
      <li><a href="https://somrc.virginia.edu/userinfo/reference/">Index</a></li>
      
      <li> <a href="/userinfo/reference/awscli-powershell/">AWS Command Line (PowerShell)</a></li>
      
      <li> <a href="/userinfo/reference/aws-cli/">AWS Command Line (Shell)</a></li>
      
      <li> <a href="/userinfo/reference/aws-bioinformatics/">AWS for Bioinformatics</a></li>
      
      <li> <a href="/userinfo/reference/s3/">Amazon S3 - Simple Storage Service</a></li>
      
      <li> <a href="/userinfo/reference/anaconda/">Anaconda (Python)</a></li>
      
      <li> <a href="/userinfo/reference/boto3/">Boto3 Library (Python)</a></li>
      
      <li> <a href="/userinfo/reference/bowtie/">Bowtie 2</a></li>
      
      <li> <a href="/userinfo/reference/bioinformatics-pipelines/">Data Processing Trends in Genomics and Bioinformatics</a></li>
      
      <li> <a href="/userinfo/reference/domino-data-lab/">Domino Data Lab (Python/R)</a></li>
      
      <li> <a href="/userinfo/reference/google-cloud-sdk/">Google Cloud SDK (Shell)</a></li>
      
      <li> <a href="/userinfo/reference/jq/">JQ (Shell)</a></li>
      
      <li> <a href="/userinfo/reference/">Reference Guides</a></li>
      
      <li> <a href="/userinfo/reference/slurm/">Slurm Job Scheduler (HPC)</a></li>
      
    </ol>
  </section>

  </div>

</aside>


      </div> <!-- /.row -->
    </div> <!-- /.container -->

      <footer class="footer" style="margin-top:20px;">
    <div class="container" style="text-align:left;padding-top:20px;">
      <div class="row">
        <div class="col-6 col-sm-4 col-lg-4">
          <strong><span class="glyphicon glyphicon-map-marker"></span> Contact</strong>
          <address>
            Research Computing<br />
            University of Virginia School of Medicine<br />
            McKim Hall<br />
            1300 Jefferson Park Avenue<br />
            Charlottesville, VA 22903<br />
            <a href="mailto:somrc@virginia.edu">somrc@virginia.edu</a>
          </address>
        </div>

        <div class="col-6 col-sm-4 col-lg-4">
          <strong><span class="glyphicon glyphicon-time"></span> Find Us</strong><br /><br />
            <p>
              <a href="https://github.com/uva-som-rc" target="_blank" rel="noopener noreferrer"><img src="https://somrc.virginia.edu/images/github-32.png" alt="GitHub" style="margin-right:8px;" /></a>
              <a href="https://twitter.com/uvasomrc" target="_blank" rel="noopener noreferrer"><img src="https://somrc.virginia.edu/images/twitter-32.png" alt="Twitter" style="margin-right:8px;" /></a>
            </p>
      	</div>

        <div class="col-6 col-sm-4 col-lg-4">
          <strong><span class="glyphicon glyphicon-link"></span> Links</strong>
        	<p>
        	  <a href="http://med.virginia.edu" target="_blank" rel="noopener noreferrer">UVA School of Medicine</a> <br />
        	  <a href="http://cadre.virginia.edu" target="_blank" rel="noopener noreferrer">CADRE @ UVA</a> <br />
        	  <a href="http://arcs.virginia.edu" target="_blank" rel="noopener noreferrer">ARCS @ UVA</a> <br />
        	  <a href="https://www.xsede.org/" target="_blank" rel="noopener noreferrer">Xsede Super Computing</a> <br />
        	</p>
        </div>
      </div>
      <div class="row">
        <div class="col" style="text-align:center;margin-bottom:20px;">
            <a href="https://med.virginia.edu/" target="_new" style="color:#6b6b6b;text-decoration:none;">&copy;2017 UVA School of Medicine</a>
        </div>
      </div>
    </div>
  </footer>

  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-90358528-1', 'auto');
      ga('send', 'pageview');

  </script>

<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
<script src="https://somrc.virginia.edu/js/scripts.js"></script>


  </body>

</html>
